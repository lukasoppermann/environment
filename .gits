# git alias
alias status="git status"
alias st="git status --ignore-submodules"
alias commit="git commit"
alias clone="git clone"
alias cm="git commit -m"
cur_git_branch() {
	git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'
}
alias push="git push --tags origin \$(cur_git_branch)"
alias pull="git pull"
alias rebase="git rebase -i"
alias continue="git rebase --continue"
alias add="git add"
alias add.="git add --all"
alias ca="git commit -am"
alias ck="git checkout"
alias b="git branch -a"
alias cherry="git cherry-pick"
alias dif="git diff"
alias remote="git remote add"
alias fetch="git fetch"
alias conflicts="git diff --name-only --diff-filter=U"
alias fix="git diff --name-only | uniq | xargs mate"
alias discard="git stash save --keep-index; git stash drop"

alias log="git log \$(cur_git_branch) --decorate --graph --oneline --date-order"
alias hlog="git reflog"
alias sub="git submodule"
alias sup="git submodule foreach 'git checkout master; git pull;'"

# svn
alias svn.="svn add --force ."
function svnd {
  svn status | grep '^\!' | cut -c8- | while read f; do svn rm "$f@"; done
}
alias svn-="svn delete"
alias scm="svn commit -m 'updating'"

# clone down issues
function issues {
	hand=~/projects/knowledge-base/handkerchief/handkerchief.py
	if [[ $1 != "" ]] ; then
    python $hand $1 -t default.template
	else
    repo=$(git remote -v | head -n1 | awk '{print $2}' | sed -e 's,.*:\(.*/\)\?,,' -e 's/\.git$//')
    if [[ $repo == *https://* ]] ; then
      python $hand ${repo#https://github.com/} -t default.template
    elif [[ $repo == *git@github.com* ]] ; then
      python $hand ${repo#git@github.com:}
    else
      echo "Provide parameter"
    fi
	fi
}

